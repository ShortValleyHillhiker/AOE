(()=>{function B(e,t){let r=Math.ceil(e.width/t),i=Math.ceil(e.height/t),n=[];for(let a=0;a<=i;a++){let o=a&1?t/2:0;for(let l=0;l<=r;l++)n.push({x:l*t+o,y:a*t})}return n}function M(e,t,r,i="#1c1c1c"){e.fillStyle=i;for(let n=0;n<t.length;n++){let{x:a,y:o}=t[n],l=r(t[n]);l<=0||(e.beginPath(),e.arc(Math.round(a),Math.round(o),l,0,Math.PI*2),e.fill())}}function b(e,t){let r=e.parentElement;return e.width=r.clientWidth,e.height=r.clientHeight,B(e,t)}var E={spacing:8,baseRadius:2.5,rippleWidth:12,rippleSpeed:10,dragCooldown:50,maxRipples:15,fadeFactor:.9,frameRate:12};function S(e,t,r,i){let n=Math.floor(t),o=(Math.floor(r)*i+n)*4,[l,c,f]=e.data.slice(o,o+3);return(.299*l+.587*c+.114*f)/255}var{spacing:O,baseRadius:W}=E,k=1e3/12,H=10;function N(e){let t=e.getContext("2d"),i=e.parentElement.querySelector("img");if(!i)return;let n=document.createElement("canvas"),a=n.getContext("2d",{willReadFrequently:!0}),o=[],l=null,c=0,f=!1,h=!1,w=0,p=()=>{t.clearRect(0,0,e.width,e.height),M(t,o,({x:d,y:m})=>{let x=1+(1-S(l,d,m,e.width)-1)*c;return Math.round(W*x*2)})},y=()=>{a.drawImage(i,0,0,e.width,e.height),l=a.getImageData(0,0,e.width,e.height)},g=()=>{o=b(e,O),n.width=e.width,n.height=e.height,i.complete&&i.naturalWidth&&y()},s=d=>{if(d-w>=k&&(w=d,c=Math.min(c+1/H,1),p(),c>=1)){f=!1,h=!0;return}f&&requestAnimationFrame(s)},u=()=>{f||h||(f=!0,c=0,requestAnimationFrame(s))};i.onload=()=>{g(),p()},i.complete&&i.naturalWidth&&(g(),p()),window.addEventListener("resize",()=>{g(),p()}),new IntersectionObserver(([d])=>{d.isIntersecting&&!h&&setTimeout(u,350)},{threshold:.1}).observe(e)}function R(){document.querySelectorAll("canvas.ripple-canvas.halftone").forEach(N)}var{spacing:D,baseRadius:X,rippleWidth:C,rippleSpeed:Y,dragCooldown:v,maxRipples:P,fadeFactor:_,frameRate:V}=E,j=1e3/V;function J(e){let t=e.getContext("2d"),r=e.classList.contains("touch"),i=e.classList.contains("automatic"),n=e.classList.contains("loop"),a=b(e,D),o=[],l=0,c=!1,f=0,h=!1,w=!0,p=()=>{t.clearRect(0,0,e.width,e.height),M(t,a,({x:s,y:u})=>{let d=1;for(let m of o){if(m.alpha<.01)continue;let L=s-m.x,x=u-m.y;if(Math.abs(L)>m.radius+C||Math.abs(x)>m.radius+C)continue;let A=L*L+x*x,q=m.radius-C,F=m.radius+C;if(A<q*q||A>F*F)continue;let z=Math.sqrt(A),T=Math.abs(z-m.radius);d+=(1-T/C)*m.alpha*2}return Math.round(X*d)})},y=s=>{s-l>=j&&(l=s,p(),o=o.map(d=>({...d,radius:d.radius+Y,alpha:d.alpha*_})).filter(d=>d.alpha>.01),i&&Math.random()<.1&&g(Math.random()*e.width,Math.random()*e.height),n&&o.length===0&&g(e.width/2,e.height/2)),w&&(o.length||i||n||r&&c)?requestAnimationFrame(y):h=!1},g=(s,u)=>{w&&(o.length>=P&&o.shift(),o.push({x:s,y:u,radius:0,alpha:1}),h||(h=!0,requestAnimationFrame(y)))};r&&(e.addEventListener("pointerdown",s=>{c=!0;let u=e.getBoundingClientRect();g(s.clientX-u.left,s.clientY-u.top),f=Date.now()}),e.addEventListener("pointerup",()=>c=!1),e.addEventListener("pointermove",s=>{if(!c||Date.now()-f<v)return;let u=e.getBoundingClientRect();g(s.clientX-u.left,s.clientY-u.top),f=Date.now()})),window.addEventListener("resize",()=>{clearTimeout(e._resizeTimeout),e._resizeTimeout=setTimeout(()=>{a=b(e,D),p()},250)}),new IntersectionObserver(([s])=>{w=s.isIntersecting,w&&!h&&(h=!0,requestAnimationFrame(y))},{threshold:.1}).observe(e),p(),h||(h=!0,requestAnimationFrame(y))}function I(){document.querySelectorAll("canvas.ripple-canvas:not(.halftone)").forEach(J)}var ae=new Swup;function G(){document.querySelectorAll(".expander-toggle").forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.target,r=document.getElementById(t);r&&r.classList.toggle("hidden")})})}document.addEventListener("DOMContentLoaded",()=>{if(R(),I(),G(),new Swup({containers:["#swup"]}).hooks.on("page:view",()=>{R(),I(),G()}),!document.getElementById("main"))return;window.addEventListener("scroll",()=>{window.scrollY>2?document.body.classList.add("body-scrolled"):document.body.classList.remove("body-scrolled")});let r=document.querySelector("#mob-menu"),i=document.querySelector("header"),n=()=>{document.body.classList.toggle("menu-active")};r?.addEventListener("click",n),window.innerWidth<768&&i&&i.addEventListener("click",a=>{a.target.closest("a")&&document.body.classList.remove("menu-active")})});})();
